{{ $JVB_OCTO_ENABLED := .Env.JVB_OCTO_ENABLED | default "false" | toBool }}
{{ $JVB_OCTO_BIND_ADDRESS := .Env.JVB_OCTO_BIND_ADDRESS | default .Env.LOCAL_ADDRESS }}
{{ $JVB_OCTO_PUBLIC_ADDRESS := .Env.JVB_OCTO_PUBLIC_ADDRESS | default .Env.DOCKER_HOST_ADDRESS }}
{{ $JVB_OCTO_BIND_PORT := .Env.JVB_OCTO_BIND_PORT | default 4096 }}
{{ $JVB_OCTO_REGION := .Env.JVB_OCTO_REGION | default "region1" }}


{{ if .Env.DOCKER_HOST_ADDRESS }}
org.ice4j.ice.harvest.NAT_HARVESTER_LOCAL_ADDRESS={{ .Env.LOCAL_ADDRESS }}
org.ice4j.ice.harvest.NAT_HARVESTER_PUBLIC_ADDRESS={{ .Env.DOCKER_HOST_ADDRESS }}

{{ if $JVB_OCTO_ENABLED }}
# the address to bind to locally
org.jitsi.videobridge.octo.BIND_ADDRESS={{ $JVB_OCTO_BIND_ADDRESS }}
# the address to advertise (in case BIND_ADDRESS is not accessible)
org.jitsi.videobridge.octo.PUBLIC_ADDRESS={{ $JVB_OCTO_PUBLIC_ADDRESS }}
# the port to bind to
org.jitsi.videobridge.octo.BIND_PORT={{ $JVB_OCTO_BIND_PORT }}
# the region that the jitsi-videobridge instance is in
org.jitsi.videobridge.REGION={{ $JVB_OCTO_REGION }}
{{ end }}

{{ end }}
